<div class="col-md-4 col-md-offset-4">
    <div style="text-align: center">
        <h2>{{"UserSettings.title"|translate}}</h2>
    </div>


    <form name="userSettings">

        <div class="row form-group"
             ng-class="{
                    'has-error': userSettings.firstName.$invalid && userSettings.firstName.$dirty,
                    'has-success': userSettings.firstName.$valid }">
            <label for="firstName">{{'UserSettings.personal.form.firstName' | translate}}</label>
            <input
                    class="form-control"
                    name="firstName"
                    id="firstName"
                    ng-model=" vm.userProfile.firstName"
                    ng-minLength="3"
                    ng-maxLength="50"
                    required/>

            <p class="help-block" ng-if="userSettings.firstName.$invalid && userSettings.firstName.$dirty">
                {{'UserSettings.personal.form.inputFieldError' | translate : '{ fieldName: "First name", minLength :
                "3",
                maxLength: "50"}'}}
            </p>
        </div>

        <div class="row form-group"
             ng-class="{
                    'has-error': userSettings.lastName.$invalid && userSettings.lastName.$dirty,
                    'has-success': userSettings.lastName.$valid }">
            <label for="lastName">{{'UserSettings.personal.form.lastName' | translate}}</label>
            <input
                    class="form-control"
                    name="lastName"
                    id="lastName"
                    ng-model=" vm.userProfile.lastName"
                    ng-minLength="3"
                    ng-maxLength="50"
                    required/>

            <p class="help-block" ng-if="userSettings.lastName.$invalid && userSettings.lastName.$dirty">
                {{'UserSettings.personal.form.inputFieldError' | translate: '{ minLength : "3", maxLength: "50"}'}}
            </p>
        </div>

        <div class="row form-group">
            <div ng-class="{
                    'has-error': userSettings.gender.$invalid,
                    'has-success': userSettings.gender.$valid }">
                <label class="required" for="gender">{{"UserSettings.form.gender"|translate}}</label>
                <select class="form-control" id="gender" name="gender" ng-model="vm.userProfile.genderId" required>
                    <option ng-repeat="gender in vm.gender"
                            ng-selected="gender.id == vm.userProfile.genderId"
                            value="{{gender.id}}"
                    >{{gender.description}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row form-group">
            <div ng-class="{
                    'has-error': userSettings.country.$invalid,
                    'has-success': userSettings.country.$valid }">
                <label class="required" for="country">{{"UserSettings.form.country"|translate}}</label>
                <select class="form-control" id="country" name="country" ng-model="vm.userProfile.countryId" required>
                    <option ng-repeat="country in vm.country"
                            ng-selected="country.id == vm.userProfile.countryId"
                            value="{{country.id}}"
                    >{{country.description}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row form-group">
            <div ng-class="{
                    'has-error': userSettings.city.$invalid,
                    'has-success': userSettings.city.$valid }">
                <label class="required" for="city">{{"UserSettings.form.city"|translate}}</label>
                <select class="form-control" id="city" name="city" ng-model="vm.userProfile.cityId" required>
                    <option ng-repeat="city in vm.cities"
                            ng-selected="city.id == vm.userProfile.cityId"
                            value="{{city.id}}"
                    >{{city.description}}
                    </option>
                </select>
            </div>
        </div>

        <div>
            <div class="form-group">
                <button type="button" class="btn btn-default center-block" ng-click="vm.isCollapsed = !vm.isCollapsed">
                    {{"UserSettings.btn.addSettings"|translate}}
                </button>
            </div>
            <div uib-collapse="vm.isCollapsed">
                <div class="row form-group form-inline">
                    <label class="col-md-3" for="facebook">{{"UserSettings.form.facebook"|translate}}</label>
                    <div class="col-md-4">
                        <input type="text"
                               name="facebook"
                               id="facebook"
                               class="form-control "
                               ng-model="vm.userProfile.facebookLink"/>
                    </div>
                </div>

                <div class="row form-group form-inline">
                    <label class="col-md-3" for="profession">{{"UserSettings.form.profession"|translate}}</label>
                    <div class="col-md-4">
                        <input type="text"
                               name="profession"
                               id="profession"
                               class="form-control "
                               ng-model="vm.userProfile.profession"/>
                    </div>
                </div>

                <div class="row form-group form-inline">

                    <label class="col-md-3" for="company">{{"UserSettings.form.company"|translate}}</label>
                    <div class="col-md-4">
                        <input type="text"
                               name="company"
                               id="company"
                               class="form-control "
                               ng-model="vm.userProfile.company"/>
                    </div>
                </div>

                <div class="row form-group form-inline">

                    <label class="col-md-3" for="phoneNumber">{{"UserSettings.form.phoneNumber"|translate}}</label>
                    <div class="col-md-4">
                        <input type="text"
                               name="phoneNumber"
                               id="phoneNumber"
                               class="form-control "
                               ng-model="vm.userProfile.phoneNumber"/>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-actions ">
            <button ng-click="vm.submitChanges()"
                    type="submit"
                    ng-disabled="userSettings.gender.$invalid || userSettings.city.$invalid || userSettings.country.$invalid
                    || userSettings.firstName.$invalid || userSettings.lastName.$invalid"
                    class="btn btn-success pull-right">
                {{"UserSettings.btn.submit" | translate}}
                <i ng-show="vm.dataLoading" class="fa fa-spinner fa-pulse"></i>
            </button>
        </div>
    </form>
</div>

