<div class="col-md-6 col-md-offset-3" style="border: 1px solid lightblue; border-radius: 5px">

    <script type="text/javascript">
        function display_hide(blockId) {
            if ($(blockId).css('display') == 'none')
                $(blockId).animate({height: 'show'}, 500);
            else
                $(blockId).animate({height: 'hide'}, 500);
        }
        $(document).on('click', 'button[type="submit"]', function () {
            $(this).attr({
                'type': 'button'
            });
        });
    </script>
    <div class="changeEmail" style="margin: 20px">
        <a href="" onclick="display_hide('#block_id');return false;"
           style="font-size: 20px;font-size: large; color:black">
            {{'SecuritySettingsEmail.title' | translate}}
        </a>
        <div id="block_id" class="col-md-12" style="margin-top: 15px; margin-bottom: 15px; display: none;">
            <form name="form" novalidate role="form" style="margin-left:-15px">

                <div class="form-group"
                     ng-class="{
                                'has-error': form.newEmail.$invalid && form.newEmail.$dirty,
                                'has-success': form.newEmail.$valid}">
                    <label class="required" for="newEmail">{{'SecuritySettings.form.newEmail' |
                        translate}}</label>
                    <input type="email"
                           class="form-control"
                           name="newEmail"
                           id="newEmail"
                           ng-model="vm.securitySettings.newEmail"
                           ng-maxlength="50"
                           required/>

                    <p class="help-block" ng-if="form.newEmail.$invalid && form.newEmail.$dirty">
                        {{'SecuritySettings.form.errorEmail' | translate}}
                    </p>
                </div>

                <div class="form-group"
                     ng-class="{
                                'has-error': form.userPassword.$invalid && form.userPassword.$dirty,
                                'has-success': form.userPassword.$valid}">
                    <label class="required" for="userPassword">{{'SecuritySettings.form.password' | translate}}</label>
                    <input type="password"
                           class="form-control"
                           name="userPassword"
                           id="userPassword"
                           ng-model="vm.securitySettings.userPassword"
                           ng-minLength="8"
                           ng-maxLength="25"
                           required/>

                    <p class="help-block" ng-if="form.userPassword.$invalid && form.userPassword.$dirty">
                        {{'SecuritySettings.form.errorPassword' | translate}}
                    </p>
                </div>

                <div>
                    <button ng-click="vm.emailChangeRequest()"
                            type="submit"
                            ng-disabled="form.$invalid"
                            class="btn btn-primary">
                        <i ng-show="!vm.dataLoading">{{"SecuritySettings.form.btn.saveChanges"|translate}}</i>
                        <i ng-show="vm.dataLoading">{{"SecuritySettings.form.btn.loading"|translate}}</i>
                        <i ng-show="vm.dataLoading" class="fa fa-spinner fa-pulse"></i>
                    </button>

                    <a ui-sref="home" class="btn btn-link">{{"SecuritySettings.form.btn.cancel"|translate}}</a>
                </div>
            </form>
        </div>
    </div>
</div>






